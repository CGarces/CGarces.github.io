---
layout: post
title: Sin sonido después de actualizar oss-compat
date: '2013-09-03T01:22:00.001-07:00'
author: Carlos Garcés
tags:
- sonido
- Antix
- debian
- snd_hda_intel
modified_time: '2013-09-03T01:22:40.721-07:00'
blogger_id: tag:blogger.com,1999:blog-1928520019849450453.post-7320917716993357970
blogger_orig_url: http://pruebasconantix.blogspot.com/2013/09/sin-sonido-despues-de-actualizar-oss.html
---

<div dir="ltr" style="text-align: left;" trbidi="on">Recientemente he tenido un problema al realizar un update desde la rama de testing<br /><br />El ordenador se quedo sin sonido, mostrando el siguiente error durante el arranque<br /><br /><pre class="brush: bash">timeout: killing '/sbin/modprobe -bv pci:v000010ECd0000816Csv00001734sd00001178bc0Csc07i01' [594]<br /></pre><br />Efectivamente el dispositivo era la tajeta de sonido<br /><br /><pre class="brush: bash">root@antiX1:/home/Carlos# modprobe -R 'pci:v00008086d0000284Bsv00001025sd00000136bc04sc03i00'<br />snd_hda_intel<br />snd_hda_intel<br /></pre><br />El modulo correspondiente no estaba cargado.<br /><br /><pre class="brush: bash">root@antiX1:/home/Carlos# rmmod snd-hda-intel<br />Error: Module snd_hda_intel is not currently loaded<br /></pre><br />Pero al cargarlo a mano, funcionaba correctamente<br /><br /><pre class="brush: bash">root@antiX1:/home/Carlos# modprobe snd-hda-intel<br /></pre><br />Mirando en /var/log/kern.log pude determinar cuando dejo de funcionar<br /><br /><pre class="brush: bash">root@antiX1:/home/Carlos# less /var/log/kern.log | grep snd_hda_intel<br />Sep  1 13:04:30 antiX1 kernel: [    9.238361] snd_hda_intel 0000:00:1b.0: irq 46 for MSI/MSI-X<br />Sep  1 13:07:27 antiX1 kernel: [    7.969088] snd_hda_intel 0000:00:1b.0: irq 45 for MSI/MSI-X<br />Sep  2 17:14:02 antiX1 kernel: [ 1465.338882] snd_hda_intel 0000:00:1b.0: irq 47 for MSI/MSI-X<br /></pre><br />El día 1 a las 13:07 se cargo durante el arranque y no volvió a cargarse hasta el día 2 (cuando lo cargue a mano).<br />El primer boot desde las 13:07 fue a las 17:09<br /><br /><pre class="brush: bash">Sep  1 17:09:44 antiX1 kernel: [    0.000000] Command line: root=UUID=419ad2c2-a347-4b58-ad65-eee0c6e57bbe ro pcie_aspm=force quiet<br /></pre><br />Asi que revise las actualizaciones entre las  13:07 y las 17:09 en /var/log/apt/history.log<br /><br /><pre class="brush: bash">Start-Date: 2013-09-01  13:58:42<br />Commandline: apt-get upgrade<br />Upgrade: oss-compat:amd64 (2, 4)<br />End-Date: 2013-09-01  13:58:44<br /></pre><br />Después de eliminar el paquete <i>oss-compat</i>, el error no desapareció, así que revise manualmente los ficheros de <i>/etc/modprobe.d/</i> y vi que habia un archivo <i>oss-compat.conf</i> (¿que debería haber eliminado apt-get?), una ver eliminado manualmente la tarjeta de sonido volvió a funcionar con normalidad.<br /><br /></div>